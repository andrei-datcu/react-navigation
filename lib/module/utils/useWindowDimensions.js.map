{"version":3,"sources":["useWindowDimensions.tsx"],"names":["React","Dimensions","useWindowDimensions","dimensions","setDimensions","useState","height","width","get","useEffect","onChange","window","d","addEventListener"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAqBC,UAArB,QAAuC,cAAvC,C,CAEA;AACA;;AACA,eAAe,SAASC,mBAAT,GAA+B;AAC5C,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BJ,KAAK,CAACK,QAAN,CAAe,MAAM;AACvD;AACA,UAAM;AAAEC,MAAAA,MAAM,GAAG,CAAX;AAAcC,MAAAA,KAAK,GAAG;AAAtB,QAA4BN,UAAU,CAACO,GAAX,CAAe,QAAf,CAAlC;AAEA,WAAO;AAAEF,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAAP;AACD,GALmC,CAApC;AAOAP,EAAAA,KAAK,CAACS,SAAN,CAAgB,MAAM;AACpB,UAAMC,QAAQ,GAAG,CAAC;AAAEC,MAAAA;AAAF,KAAD,KAAwC;AACvD,YAAM;AAAEJ,QAAAA,KAAF;AAASD,QAAAA;AAAT,UAAoBK,MAA1B;AAEAP,MAAAA,aAAa,CAAEQ,CAAD,IAAO;AACnB,YAAIL,KAAK,KAAKK,CAAC,CAACL,KAAZ,IAAqBD,MAAM,KAAKM,CAAC,CAACN,MAAtC,EAA8C;AAC5C,iBAAOM,CAAP;AACD;;AAED,eAAO;AAAEL,UAAAA,KAAF;AAASD,UAAAA;AAAT,SAAP;AACD,OANY,CAAb;AAOD,KAVD,CADoB,CAapB;AACA;;;AACAI,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,MAAM,EAAEV,UAAU,CAACO,GAAX,CAAe,QAAf;AAAV,KAAD,CAAR;AAEAP,IAAAA,UAAU,CAACY,gBAAX,CAA4B,QAA5B,EAAsCH,QAAtC;AAEA,WAAO,MAAMT,UAAU,CAACY,gBAAX,CAA4B,QAA5B,EAAsCH,QAAtC,CAAb;AACD,GApBD,EAoBG,EApBH;AAsBA,SAAOP,UAAP;AACD","sourcesContent":["import * as React from 'react';\r\nimport { ScaledSize, Dimensions } from 'react-native';\r\n\r\n// This is similar to the new useWindowDimensions hook in react-native\r\n// However, we have a custom implementation to support older RN versions\r\nexport default function useWindowDimensions() {\r\n  const [dimensions, setDimensions] = React.useState(() => {\r\n    // `height` and `width` maybe undefined during SSR, so we initialize them\r\n    const { height = 0, width = 0 } = Dimensions.get('window');\r\n\r\n    return { height, width };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const onChange = ({ window }: { window: ScaledSize }) => {\r\n      const { width, height } = window;\r\n\r\n      setDimensions((d) => {\r\n        if (width === d.width && height === d.height) {\r\n          return d;\r\n        }\r\n\r\n        return { width, height };\r\n      });\r\n    };\r\n\r\n    // We might have missed an update before the listener was added\r\n    // So make sure to update the dimensions\r\n    onChange({ window: Dimensions.get('window') });\r\n\r\n    Dimensions.addEventListener('change', onChange);\r\n\r\n    return () => Dimensions.addEventListener('change', onChange);\r\n  }, []);\r\n\r\n  return dimensions;\r\n}\r\n"]}